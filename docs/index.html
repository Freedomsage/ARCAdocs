<!DOCTYPE html>
<html>
<head>
    <title>ARCA AFIP - Facturaci贸n Electr贸nica API Documentation</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        #env-selector {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            padding: 10px;
            font-size: 14px;
            border-radius: 4px;
            border: 1px solid #ccc;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <redoc spec-url='openapi/homologacion.yaml'></redoc>
    <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>
    
    <select id="env-selector">
        <option value="homologacion">Homologaci贸n (Testing)</option>
        <option value="produccion">Producci贸n (Production)</option>
    </select>
    
    <script>
        let redocInstance = null;
        
        // Initialize ReDoc
        function initRedoc(specUrl) {
            const container = document.querySelector('redoc');
            if (redocInstance) {
                // Clear existing instance
                container.innerHTML = '';
            }
            
            Redoc.init(specUrl, {
                scrollYOffset: 0,
                hideDownloadButton: false,
                expandResponses: '200,201',
                requiredPropsFirst: true,
                sortOperationsAlphabetically: false,
                sortTagsAlphabetically: false,
                theme: {
                    colors: {
                        primary: {
                            main: '#32329f'
                        }
                    }
                }
            }, container, (err) => {
                if (err) {
                    console.error('ReDoc initialization error:', err);
                } else {
                    redocInstance = true;
                }
            });
        }
        
        // Wait for Redoc to be available
        if (typeof Redoc !== 'undefined') {
            initRedoc('openapi/homologacion.yaml');
        } else {
            window.addEventListener('load', () => {
                initRedoc('openapi/homologacion.yaml');
            });
        }
        
        // Environment selector
        const selector = document.getElementById('env-selector');
        selector.addEventListener('change', function() {
            const env = this.value;
            const specUrl = `openapi/${env}.yaml`;
            const redocEl = document.querySelector('redoc');
            redocEl.setAttribute('spec-url', specUrl);
            initRedoc(specUrl);
        });
    </script>
</body>
</html>


